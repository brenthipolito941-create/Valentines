
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Garden</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

body {
  
  background: radial-gradient(circle at center, #111 0%, #000 70%);
  overflow: hidden;
}

canvas {
      background: radial-gradient(circle at center, #111 0%, #000 70%);
  
  position: fixed;
  inset: 0;
}

/* UI */
.question-container {
  position: absolute;
  top: 8%;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  color: white;
  z-index: 10;
}

.question {
  font-size: 2.8rem;
  margin-bottom: 1rem;
  text-shadow: 0 0 10px rgba(255,105,180,0.5);
}

.btn {
  padding: 14px 36px;
  border: none;
  border-radius: 50px;
  font-size: 18px;
  cursor: pointer;
  color: white;
  transition: 0.3s ease;
  box-shadow: 0 6px 20px rgba(255, 90, 150, 0.4);
}

#yesBtn {
  background: linear-gradient(135deg, #ff4d6d, #ff8fab);
}

#noBtn {
  background: #444;
  margin-left: 20px;
}

.hint {
  position: absolute;
  bottom: 20px;
  width: 100%;
  text-align: center;
  color: #aaa;
  z-index: 10;
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="question-container">
  <div class="question">Will you be my Valentine? ðŸ’–</div>
  <button class="btn" id="yesBtn">Yes</button>
  <button class="btn" id="noBtn">No</button>
</div>



<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2c7c3c4a57.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== SETUP ===== */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const music = document.getElementById("bgMusic");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const rand = (a,b) => Math.random()*(b-a)+a;

/* ===== FLOWERS ===== */
const flowers = [];

function plantFlower(x,y){
  flowers.push({
    x,y,
    grow:0,
    height: rand(90,160),
    type: Math.random()>0.5 ? "dahlia" : "orchid",
    hue: rand(300,360)
  });
}

canvas.addEventListener("click", e => plantFlower(e.clientX,e.clientY));
canvas.addEventListener("touchstart", e => {
  const t=e.touches[0];
  plantFlower(t.clientX,t.clientY);
});

/* ===== DRAW FLOWERS ===== */
function drawFlower(f){
  if(f.grow<f.height) f.grow+=2;
  const topY=f.y-f.grow;

  ctx.strokeStyle="#3aff6f";
  ctx.lineWidth=2;
  ctx.beginPath();
  ctx.moveTo(f.x,f.y);
  ctx.lineTo(f.x,topY);
  ctx.stroke();

  ctx.save();
  ctx.translate(f.x,topY);
  ctx.shadowBlur=12;
  ctx.shadowColor=`hsla(${f.hue},100%,70%,0.6)`;

  if(f.type==="dahlia"){
    for(let i=0;i<16;i++){
      const a=i*Math.PI/8;
      ctx.fillStyle=`hsla(${f.hue},100%,70%,0.9)`;
      ctx.beginPath();
      ctx.ellipse(Math.cos(a)*14,Math.sin(a)*14,6,14,a,0,Math.PI*2);
      ctx.fill();
    }
  } else {
    for(let i=0;i<5;i++){
      const a=i*Math.PI*2/5;
      ctx.fillStyle=`hsla(${f.hue+20},100%,75%,0.9)`;
      ctx.beginPath();
      ctx.ellipse(Math.cos(a)*12,Math.sin(a)*12,8,18,a,0,Math.PI*2);
      ctx.fill();
    }
  }

  ctx.fillStyle="#ffd700";
  ctx.beginPath();
  ctx.arc(0,0,4,0,Math.PI*2);
  ctx.fill();
  ctx.restore();
}

/* ===== HEART ===== */
let heartScale = 6;

function drawHeart(x, y, size) {
  ctx.save();
  ctx.translate(x, y);

  // subtle pulse
  const pulse = 1 + Math.sin(Date.now()*0.004) * 0.03;
  ctx.scale(size * pulse, size * pulse);

  ctx.beginPath();
  ctx.moveTo(0, -2);
  ctx.bezierCurveTo(-2, -5, -8, -2, 0, 6);
  ctx.bezierCurveTo(8, -2, 2, -5, 0, -2);
  ctx.closePath();

  ctx.fillStyle = "rgba(255,90,130,0.9)";
  ctx.shadowBlur = 35;
  ctx.shadowColor = "rgba(255,90,130,0.9)";
  ctx.fill();
  ctx.restore();
}

/* ===== FIREWORKS ===== */
const particles=[];

function heartFirework(x,y){
  for(let i=0;i<120;i++){
    const t=Math.random()*Math.PI*2;
    const r=16*(1-Math.sin(t));
    particles.push({
      x,y,
      vx:r*Math.cos(t)*0.2,
      vy:-r*Math.sin(t)*0.2,
      life:120,
      hue:rand(330,360)
    });
  }
}

function randomFireworks(count=12){
  for(let i=0;i<count;i++){
    setTimeout(()=>{
      heartFirework(
        rand(100,innerWidth-100),
        rand(120,innerHeight-150)
      );
    }, i*140);
  }
}

function drawParticles(){
  particles.forEach((p,i)=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.vy+=0.04;
    p.life--;

    ctx.fillStyle=`hsla(${p.hue},100%,60%,${p.life/120})`;
    ctx.shadowBlur=8;
    ctx.shadowColor=`hsla(${p.hue},100%,60%,0.6)`;
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fill();

    if(p.life<=0) particles.splice(i,1);
  });
}

/* ===== LOOP ===== */
function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  flowers.forEach(drawFlower);

  // heart ALWAYS visible
  drawHeart(innerWidth/2, innerHeight/2, heartScale);

  drawParticles();
  requestAnimationFrame(animate);
}
animate();

/* ===== BUTTON LOGIC ===== */
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
let yesScale=1;

function playMusic(){
  if(music.paused) music.play();
}

noBtn.addEventListener("click",()=>{
  playMusic();
  noBtn.style.position="absolute";
  noBtn.style.left=rand(20,innerWidth-100)+"px";
  noBtn.style.top=rand(40,innerHeight-100)+"px";
  yesScale+=1;
  yesBtn.style.transform=`scale(${yesScale})`;
});

yesBtn.addEventListener("click",()=>{
  playMusic();

  // heart grows forever
  heartScale += 15;

  randomFireworks(14);
  plantFlower(innerWidth/2, innerHeight/2 + 140);
});
</script>

</body>

</html>
